{% load static %}
<html>
    <head>
        <title>Recover Files</title>
    </head>
    <script type="text/javascript"src="{{ STATIC_URL }} /static/js/jquery-3.2.1.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" type="text/javascript"></script>
    <script>
        $(document).ready(function(){
            $(".filechooser").hide();
            $(document).on('click','#choosebutton',function(){
                fileunhide();
            });

            $(document).on('click','.close', function(){
                close();
            });

            function fileunhide(){
                $(".recover-container").hide();
                $(".filechooser").show();
            }

            function close(){
                $(".filechooser").hide();
                $(".recover-container").show();
            }

        });

    </script>

    <style>

         @font-face {
            font-family: Raleway;
            src: url("fonts/Raleway.ttf");
        }

        body {
            overflow-x: hidden;
            margin: 0;
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            background-color: #333;

        }

        .leftnav .contents {
            display: flex;
            flex-direction: row;
            justify-contents: flex-start;
            text-decoration: none;
            background-color: cadetblue;

        }

        .contents div {
            margin: 10px 15px;
        }

        .contents a {
            text-decoration: none;
            color: black;
            font-family: "Raleway";
        }

        .contents a:hover {
            color: white;
        }

        form div {
            margin: 10px 15px;
        }

        .container {
            width:30%;
            height:70%;
            font-family: Raleway;
            display: flex;
            flex-direction: column;
            padding-top:3em;
            margin-top: 3em;
            margin-left: 35%;
            color: white;
            background-color: #878787;
           box-shadow: -1px 1px 36px 5px rgba(0,0,0,0.75);

        }
        .container div
        {

            display:flex;
            flex-direction:row;

        }
        .container div input
        {
            margin-top: -1em;
        }


        .buttons {
            display: flex;
            flex-direction: row;
            align-self:left;
            font-family: Raleway;
            margin-top: 3em;
            font-weight: bolder;
        }

        .buttons a, .buttons button
        {
            cursor: pointer;
            margin-left:2em;

        }

        .filechooser {
            position: relative;
            z-index: 1;
            left: 0;
            top: 0;
            height: 100%;
            width: 100%;
            overflow: auto;
            background-color: #333;
        }

        .file-container {
            background-color:#f4f4f4;
            margin: 10% auto;
            max-height: 1000px;
            max-width: 500px;
            animation-name: modalopen;
            animation-duration: 1s;
            
        }

        .file-container button {
            margin: 0 20px 10px 20px;
            padding: 5px 10px;

        }
        #modal-container
        {
            scroll-behavior: hidden;
        }

        .checkfile {
            margin: 20px;
        }

        .close{
          float: right;
          font-size:30px;
          color: cadetblue;
          margin-right: 10px;
        }

        .close:hover,.close:focus{
          color:#000;
          text-decoration: none;
          cursor:pointer;
        }

        @keyframes modalopen{
          from{ opacity: 0}
          to {opacity: 1}
        }
         .modalDialog {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background: rgba(0,0,0,0.8);
        z-index: 99999;
        opacity:0;
        -webkit-transition: opacity 400ms ease-in;
        -moz-transition: opacity 400ms ease-in;
        transition: opacity 400ms ease-in;
        pointer-events: none;
    }

        .modalDialog:target {
            opacity:1;
            pointer-events: auto;
        }

        .modalDialog > div {
            width: 400px;
            position: relative;
            margin: 10% auto;
            padding: 5px 20px 13px 20px;
            border-radius: 10px;
            background: white;
        }

        .x {
            background: #606061;
            color: #FFFFFF;
            line-height: 25px;
            position: absolute;
            right: -12px;
            text-align: center;
            top: 0px;
            width: 19px;
            text-decoration: none;
            font-weight: bold;
            -webkit-border-radius: 12px;
            -moz-border-radius: 12px;
            border-radius: 12px;
            -moz-box-shadow: 1px 1px 3px #000;
            -webkit-box-shadow: 1px 1px 3px #000;
            box-shadow: 1px 1px 3px #000;
        }
        .close2 {
            color: white;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close2:hover,
        .close2:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
        #add
        {

            width:100%;
            height:50%;
        }
        .button {
            background-color: #4CAF50;
            color: white;
            padding: 12px 20px;
            margin: 2em 2em;
            width: 89%;
            border: none;
            cursor: pointer;
        }
        #add div input[type="text"]{
            width: 70em;
            display: inline-block;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            padding:  10px;
            margin-top:-0.5em;
            margin-left: 5em;

        }

        .trailer,.filetype,.header
        {
            font-family: Raleway;
            font-weight: bolder;
            text-align: center;
            margin-top: 20px;
            padding: 20px;
            display: flex;
            flex-direction: row;
            width:20%
        }
        .btnacc
        {
            background-color: #4CAF50; /* Green */
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            box-decoration-break: 3;
            border-radius: 3px;
            margin-right: 1em;
        }
        .btndec
        {
            background-color: #EB1818; /* Green */
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            box-decoration-break: 3;
            border-radius: 3px;
            margin-left: 3em;
        }
        .btndec:hover, .btnacc:hover
        {

            cursor: pointer;
        }



    </style>
    <body>
        <div class="navbar-container">
            <div class="navbar">
                <div class="leftnav">
                    <div class="contents">
                        <a href="/datacarver/recover/"><div>
                        Recover
                        </div></a>
                        <a href="/datacarver/"><div>
                        View All
                        </div></a>
                        <a href="#openModal1" onclick=><div>
                        Add Files
                        </div></a>
                    </div>
                </div>
                <div class="rightnav"></div>

            </div>
        </div>
        <div class="recover-container">
            {% block content %}
                <form action="" method="POST" class="infoForm" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="container">
                        {% for field in form%}
                        <div>
                            <label>{{field.label}} : </label>
                            <div class = "inputF">{{field}}</div>

                        </div>
                        {%endfor%}

                        <div class="buttons">
                            <a href = "#" id="choosebutton" ><button type="button" type="submit" name="reset" value="reset">Choose File Extension</button></a>
                            <button  type="submit" name="recover" value = "recover" >Recover</button>
                        </div>
                    </div>
                </form>
            {% endblock %}
        </div>
        <div id="modal" class="filechooser">
            <form method="POST" >
                {% csrf_token %}
            <div id="modal-container" class="file-container">
                <span class="close">&times;</span>
                <fieldset class="checkfile">
                    <legend><h1>Select file extension/s:</h1></legend>
                    {%for filesig in allfilesigs%}
                    <div>
                        <input type="checkbox" name="file" value="{{filesig.id}}" ><label>{{filesig}} File Extension</label>
                    </div>
                    {%endfor%}
                </fieldset>
                <button  type="submit" value="Submit" onclick="close()">Proceed</button>

            </div>
                </form>
        </div>
        <div id="openModal1" class="modalDialog">
            <div>
                <a href="#x" title="Close" class="x"><span class="close2">&times;</span></a>
                 <h2>Create File Signature</h2>
                <div id=add>
                    <form action="{% url 'datacarver:addfsig'  %}" method="POST" >
                        {% csrf_token %}
                        <div class="header">Header:
                        <input type="text" name="header" value="" required >
                            </div>
                        <div class="trailer">Trailer:
                        <input type="text" name="trailer" value="" >
                        </div>
                        <div class="filetype">Filetype:
                        <input  type="text" name="filetype" value="" required >
                        </div>
                        <div id = "btn">
                            <button  class="btnacc"  name="save" type="submit" style="margin-bottom:2.5em; margin-left: 4em;" >Save</button>

                           <div class="btndec" name="cancel" onclick="closeModal();">Cancel</div>

                        </div>
                    </form>

                </div>

            </div>
        </div>
    </body>

</html>